### Makefile for the Counter project
### Generated by Bluespec Workstation on Mon Aug 23 16:01:37 CDT 2010

default: full_clean compile link simulate

.PHONY: compile
compile:
	@echo Compiling...
	bsc -u -sim -simdir . -bdir . -info-dir . -keep-fires -p %/Prelude:%/Libraries -g mkTbCounter  TbCounter.bsv 
	@echo Compilation finished

.PHONY: link
link:
	@echo Linking...
	bsc -e mkTbCounter -sim -o ./out -simdir . -p .:%/Prelude:%/Libraries -keep-fires 
	@echo Linking finished

.PHONY: simulate
simulate:
	@echo Simulation...
	./out 
	@echo Simulation finished

.PHONY: clean
clean:
	exec rm -f ./TbCounter.bo ./MyCounter.bo
	exec rm -f ./MyCounter.bi ./TbCounter.bi
	exec rm -f ./mkTbCounter.ba
	exec rm -f ./mkTbCounter.o ./schedule.o

.PHONY: full_clean
full_clean:
	rm -f ./TbCounter.bo ./MyCounter.bo
	rm -f ./MyCounter.bi ./TbCounter.bi
	rm -f ./mkTbCounter.ba
	rm -f ./mkTbCounter.o ./schedule.o
	rm -f ./mkTbCounter.h
	rm -f ./mkTbCounter.cxx
